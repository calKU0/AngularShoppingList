<div class="container py-3">
  <app-back-button></app-back-button>
  <h1 class="mb-3">Your Shopping Lists</h1>
  <button (click)="openAddListModal()" class="btn btn-primary mb-3">
    Add New List
  </button>

  <app-add-shopping-list
    *ngIf="showAddModal"
    (close)="closeAddListModal()"
  ></app-add-shopping-list>

  <ng-container *ngIf="shoppingLists$ | async as lists; else noLists">
    <ng-container *ngIf="lists.length > 0; else noLists">
      <div *ngFor="let list of lists" class="card mb-3 shadow-sm">
        <div class="card-body">
          <h5 class="card-title">{{ list.name }}</h5>
          <h6 class="card-subtitle mb-2 text-muted">
            {{ list.shopName }} â€” {{ list.plannedDate | date }}
          </h6>
          <p class="card-text">Products: {{ list.itemCount }}</p>

          <div class="d-flex gap-2 mt-3">
            <button
              (click)="goToList(list.id)"
              class="btn btn-outline-primary btn-sm"
            >
              View
            </button>
            <button
              (click)="deleteList(list.id)"
              class="btn btn-outline-danger btn-sm"
            >
              Delete
            </button>
          </div>
        </div>
      </div>
    </ng-container>
  </ng-container>

  <ng-template #noLists><p>No shopping lists yet.</p></ng-template>
</div>
